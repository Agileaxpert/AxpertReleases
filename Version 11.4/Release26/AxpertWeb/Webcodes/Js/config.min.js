/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var applstJson="",handlerType="",redislstJson="",isFile="false",isArm="false";function OpenSignIn(){window.document.location.href="Signin.aspx"}function TestConnection(){var e=$("#ddldbtype").val();if(""==e)return $("#ddldbtype").focus(),showAlertDialog("error","Database name should not be left empty."),!1;var t=$("#ddldbversion").val();return"ms sql"==e.toLowerCase()&&""==t?($("#ddldbversion").focus(),showAlertDialog("error","Database verion should not be left empty."),!1):""==$("#txtccname").val()?($("#txtccname").focus(),showAlertDialog("error","Connection name should not be left empty."),!1):""==$("#txtusername").val()?($("#txtusername").focus(),showAlertDialog("error","User name should not be left empty."),!1):""==$("#txtPassword").val()?($("#txtPassword").focus(),showAlertDialog("error","Password should not be left empty."),!1):void TestConnectionWs()}function TestConnectionWs(){$.ajax({url:"AxpertAdmin.aspx/AppTestConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({ddldbtype:$("#ddldbtype").val(),ddldbversion:$("#ddldbversion").val(),ddldriver:$("#ddldriver").val(),txtccname:$("#txtccname").val(),txtusername:$("#txtusername").val(),txtPassword:$("#txtPassword").val()}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d){var t=$.parseJSON(e.d);"true"==t.result[0].result?(showAlertDialog("success","Test Connection was Successful."),EnableApplyConnection()):showAlertDialog("error",t.result[0].error.msg)}else showAlertDialog("error",e.d)},error:function(e){showAlertDialog("error",e)}})}function EnableApplyConnection(){$("#btnApply").removeAttr("disabled").removeClass("btndisable"),$("#btnChangePassword").removeAttr("disabled").removeClass("btndisable")}function applyconnection(){var e=$("#txtNewConName").val();return""==e?($("#txtNewConName").focus(),showAlertDialog("error","Connection name should not be left empty."),!1):!!new RegExp("^[a-zA-Z0-9]+$").test(e)||($("#txtNewConName").focus(),showAlertDialog("error","Invalid Name - Special characters not allowed."),!1)}function applydbpwdconnection(){var e=$("#txtNewPassword").val();if(""==e)return $("#txtNewPassword").focus(),showAlertDialog("error","Password can not be empty."),!1;var t=$("#txtConfirmPassword").val();return""==t?($("#txtConfirmPassword").focus(),showAlertDialog("error","Confirm Password can not be empty."),!1):e==t||($("#txtNewPassword").focus(),showAlertDialog("error","The password you entered did not match."),!1)}function SuccApplyConnection(e,t){"success"==e?showAlertDialog("success","Connection is created successful."):showAlertDialog("error","Connection Name already exists.")}function SuccPasswordChange(e,t){"success"==e?showAlertDialog("success",t):showAlertDialog("error",t)}function setProjectImages(e){var t="../images/loginlogo.png",n="../AxpImages/login-img.png",o="../AxpImages/login-img.png",s=$(".file-upload[data-type=logo]").parent().parent().find(".profile-pic"),a=$(".file-upload[data-type=webbg]").parent().parent().find(".profile-pic"),i=$(".file-upload[data-type=mobbg]").parent().parent().find(".profile-pic");e?getProjectAppLogo(e,async=!0,function(e){if(null!=e&&e.d){var l=JSON.parse(e.d),r=l.logo,d=l.webbg,c=l.mobbg,p=!1;d&&!c&&(c=d,p=!0),s.prop("src",r?"".concat(r,"?v=").concat((new Date).getTime()):t),a.prop("src",d||n),i.prop("src",c||o),r?s.parent().find(".delete-button").removeClass("d-none"):s.parent().find(".delete-button").addClass("d-none"),d?a.parent().find(".delete-button").removeClass("d-none"):a.parent().find(".delete-button").addClass("d-none"),c&&!p?i.parent().find(".delete-button").removeClass("d-none"):i.parent().find(".delete-button").addClass("d-none")}else s.prop("src",t),a.prop("src",n),i.prop("src",o),s.parent().find(".delete-button").addClass("d-none"),a.parent().find(".delete-button").addClass("d-none"),i.parent().find(".delete-button").addClass("d-none")},function(e){s.prop("src",t),a.prop("src",n),i.prop("src",o),s.parent().find(".delete-button").addClass("d-none"),a.parent().find(".delete-button").addClass("d-none"),i.parent().find(".delete-button").addClass("d-none")}):(s.prop("src",t),a.prop("src",n),i.prop("src",o),s.nextAll(".delete-button").addClass("hide"),a.nextAll(".delete-button").addClass("hide"),i.nextAll(".delete-button").addClass("hide"))}function licActivateCheck(){$("#btnActivate").hasClass("disabledButton")||(""==$("#txtlicappkey").val()?($("#txtlicappkey").focus(),showAlertDialog("error","Please enter license key provided by Agile Labs...")):$("#btnActivateasp").trigger("click"))}function licRefreshCheck(){$("#btnRefresh").hasClass("disabledButton")||$("#btnRefreshasp").trigger("click")}function licTrialCheck(){$("#btnTrial").hasClass("disabledButton")||$("#btnTrialasp").trigger("click")}function offlinelicDownload(){""==$("#txtlicofflinekey").val()?($("#txtlicofflinekey").focus(),showAlertDialog("error","Please enter license key provided by Agile Labs...")):$("#btnDownloadasp").trigger("click")}function LicActivationSucc(e,t){"success"==e?(showAlertDialog("success",t),setTimeout(function(){var e=window.document.location.href;window.document.location.href=e},300)):showAlertDialog("error",t)}function LicDownloadSucc(e,t){"success"==e?(showAlertDialog("success",t),$("#btndownloadfile").trigger("click")):showAlertDialog("error",t)}function closeUploadDialog(){$("#btnFileUpload").prop("disabled",!1),$("#filMyFile").val(""),$("#lblnofilename").text(""),$("#myModalLicUpload").hide()}function uploadLogo(e){for(var t=e.target,n=t.files,o=new FormData,s=0;s<n.length;s++)o.append(n[s].name,n[s]);var a,i=location.origin+location.pathname.substr(0,location.pathname.indexOf("aspx"));$("#axSelectProj").val()?$.ajax({url:i+"ProjectImageUploadHandler.ashx?proj=".concat($("#axSelectProj").val(),"&type=").concat((null==t?void 0:null===(a=t.dataset)||void 0===a?void 0:a.type)||"","&handlertype=").concat(handlerType),type:"POST",data:o,contentType:!1,processData:!1,success:function(e){handlerType="upload",e.indexOf("success")>-1?(setProjectImages($("#axSelectProj").val()),showAlertDialog("success",e)):e.indexOf("size")>-1||e.indexOf("select")?showAlertDialog("warning",e):(e.indexOf("error"),showAlertDialog("error",e)),$(t).val("")},error:function(e){handlerType="upload",showAlertDialog("error",e.statusText),$(t).val("")}}):(handlerType="upload",showAlertDialog("error","Project Name should be selected"))}function AuthenticateUser(){return""==$("#txtAuthUsername").val()?($("#txtAuthUsername").focus(),showAlertDialog("error","User name should not be left empty."),!1):""==$("#txtAuthPwd").val()?($("#txtAuthPwd").focus(),showAlertDialog("error","Password should not be left empty."),!1):void $.ajax({url:"AxpertAdmin.aspx/UserAuthentication",type:"POST",cache:!1,async:!0,data:JSON.stringify({AuthUsername:$("#txtAuthUsername").val(),AuthPwd:$("#txtAuthPwd").val()}),dataType:"json",contentType:"application/json",success:function(e){if($("#configbody").removeClass("m-auto"),$("#main_body").removeAttr("style"),""!=e.d){var t=window.document.location.href;if(t.indexOf("?")>-1){var n=t.split("?")[1];if(n.indexOf("auth=")>-1){var o="";n.split("&").forEach(function(e){-1==e.indexOf("auth=")&&(o+=e+"&")}),window.document.location.href="AxpertAdmin.aspx?"+o+"auth="+e.d}else window.document.location.href=t+"&auth="+e.d}else window.document.location.href="AxpertAdmin.aspx?auth="+e.d}else showAlertDialog("error","Incorrect credentials. please try again!")},error:function(e){showAlertDialog("error",e)}})}function initUiPanel(){$("#axSelectProj").val(selProj),setProjectImages(selProj);$("#lstconnection option").toArray().map(function(e){return{label:e.value,value:e.value,link:""}});$("#axSelectProj").select2({data:applstJson}).on("select2:select",function(e){var t,n;((null===(t=appGlobalVarsObject)||void 0===t?void 0:null===(n=t._CONSTANTS)||void 0===n?void 0:n.window)||window).toastr.clear(),setProjectImages($(this).val())})}function applyRedisconnection(){return""==$("#txtrhotname").val()?($("#txtrhotname").focus(),showAlertDialog("error","Host name should not be left empty."),!1):""==$("#txtrport").val()?($("#txtrport").focus(),showAlertDialog("error","Port should not be left empty."),!1):void TestRedisConnectionWs()}function EnableRedisApplyConnection(){$("#btnRedisApply").removeAttr("disabled").removeClass("btndisable")}function SuccRedisConnection(e){"success"==e?showAlertDialog("success","Connection is created successful."):showAlertDialog("error","Connection Name already exists.")}function SuccStudioRedisConnection(e,t){"success"==e?showAlertDialog("success","Connection is created successful."):"info"==e?setTimeout(function(){showAlertDialog("info","Connection is created successful. Copy AppSettings.ini and AppSettings.json files to "+t+" of physical path and needs to Recycle AxpertStudio Application Pool in IIS")},0):showAlertDialog("error","Connection Name already exists.")}function TestRedisConnectionWs(){$.ajax({url:"AxpertAdmin.aspx/RedisTestConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({rHost:$("#txtrhotname").val(),rPort:$("#txtrport").val(),rPwd:$("#txtrpwd").val(),axwConn:$("#lstRconnection").val()}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d)if("true:yes"==e.d)$("#hdnRPwd").val("true"),showAlertDialog("success","Test Connection was Successful."),EnableRedisApplyConnection();else if("true:no"==e.d)$("#hdnRPwd").val("false"),showAlertDialog("success","Test Connection was Successful."),EnableRedisApplyConnection();else if(e.d.indexOf("false:")>-1){var t=e.d;$("#hdnRPwd").val("true"),showAlertDialog("error",t.split(":")[1]),$("#btnRedisApply").attr("disabled","true").addClass("btndisable")}else{$("#hdnRPwd").val("true"),""==$("#txtrpwd").val()?showAlertDialog("error","Test Connection failed. Please enter password and try again."):showAlertDialog("error","Test Connection failed."),$("#btnRedisApply").attr("disabled","true").addClass("btndisable")}else $("#hdnRPwd").val("true"),showAlertDialog("error","Test Connection failed."),$("#btnRedisApply").attr("disabled","true").addClass("btndisable")},error:function(e){$("#hdnRPwd").val("true"),showAlertDialog("error",e)}})}function TestARMConnectionWs(){var e=$("#hdnprojarm").val();return-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),""===$.trim(e)?showAlertDialog("error","Project cannot be left empty"):""===$.trim($("#txtarmkey").val())?showAlertDialog("error","ARMPrivate Key cannot be left empty"):""===$.trim($("#txtarmurl").val())?showAlertDialog("error","ARM URL cannot be left empty"):""===$.trim($("#txtscripturl").val())?showAlertDialog("error","ARM Scripts URL cannot be left empty"):""===$.trim($("#txtpeg").val())?showAlertDialog("error","PEG cannot be left empty"):void $.ajax({url:"AxpertAdmin.aspx/ARMConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({aKey:$("#txtarmkey").val(),aUrl:$("#txtarmurl").val(),aScriptsUrl:$("#txtscripturl").val(),aPeg:$("#txtpeg").val(),proj:e}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d){appSettingList=JSON.parse(e.d);var t=$("#txtarmurl").val();showAlertDialog("info","ARM Connection is saved successfully. Copy AppSettings.ini file to "+t+" of physical path and needs to Recycle ARM Application Pool in IIS."),document.getElementById("txtarmkey").value="",document.getElementById("txtarmurl").value="",document.getElementById("txtscripturl").value="",document.getElementById("txtpeg").value="",$("#txtpeg").trigger("change"),$("#armproj").val(null).trigger("change")}},error:function(e){showAlertDialog("error",e)}})}function DelARMConnectionWs(){var e=$("#hdnprojarm").val();-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),$.ajax({url:"AxpertAdmin.aspx/DelARMConnectionWs",type:"POST",cache:!1,async:!0,data:JSON.stringify({proj:e}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(appSettingList=JSON.parse(e.d),showAlertDialog("success","ARM Connection is deleted successfully"),document.getElementById("txtarmkey").value="",document.getElementById("txtarmurl").value="",document.getElementById("txtscripturl").value="",document.getElementById("txtpeg").value="",$("#txtpeg").trigger("change"))},error:function(e){showAlertDialog("error",e)}})}function TestFileConnectionWs(){var e=$("#hdnfileproj").val();return-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),""===$.trim(e)?showAlertDialog("error","Project cannot be left empty"):""===$.trim($("#txtfileupload").val())?showAlertDialog("error","File Upload Path cannot be left empty"):""===$.trim($("#txtfiledownload").val())?showAlertDialog("error","File Download Path cannot be left empty"):void $.ajax({url:"AxpertAdmin.aspx/FileConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({fUpload:$("#txtfileupload").val(),fDownload:$("#txtfiledownload").val(),proj:e,fMapUsername:$("#txtfileMapUsername").val(),fMapPwd:$("#tstfileMapPwd").val()}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","File Connection is saved successfully"),appSettingList=JSON.parse(e.d))},error:function(e){showAlertDialog("error",e)}})}function DelFileConnectionWs(){var e=$("#hdnfileproj").val();-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),$.ajax({url:"AxpertAdmin.aspx/DelFileConnectionWs",type:"POST",cache:!1,async:!0,data:JSON.stringify({proj:e}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","File Connection is deleted successfully"),document.getElementById("txtfileupload").value="",document.getElementById("txtfiledownload").value="",document.getElementById("txtfileMapUsername").value="",document.getElementById("tstfileMapPwd").value="",appSettingList=JSON.parse(e.d))},error:function(e){showAlertDialog("error",e)}})}function CreateRedisConnection(){var e=$("#txtRedisNewConn").val();return""==e?($("#txtRedisNewConn").focus(),showAlertDialog("error","Connection name should not be left empty."),!1):new RegExp("^[a-zA-Z0-9]+$").test(e)?void 0:($("#txtRedisNewConn").focus(),showAlertDialog("error","Invalid Name - Special characters not allowed."),!1)}function SaveSSOConnectionWs(){var proj=$("#hdnssoProj").val();if(-1!=proj.indexOf("\\")&&(proj=proj.split("\\")[0]),""===$.trim(proj))return showAlertDialog("error","Project cannot be left empty");var _ssoType=$("#ssoType").val();if($("#hdnssoType").val(_ssoType),void 0===_ssoType||""==_ssoType)return showAlertDialog("error","SSO Type cannot be left empty");var ssoOptionWindow=1==$("#ssoOptionWindow").is(":checked")?"true":"false",requestData={};if("windows"==_ssoType){if(""===$.trim($("#ssowindowsdomain").val()))return showAlertDialog("error","Windows Domain Name cannot be left empty");requestData={ssoType:_ssoType,ssoWinDomain:$("#ssowindowsdomain").val(),onlysso:ssoOptionWindow}}else if("saml"==_ssoType){if(""===$.trim($("#SamlPartnerIdP").val()))return showAlertDialog("error","SAML Partnet IDP cannot be left empty");if(""===$.trim($("#SamlIdentifier").val()))return showAlertDialog("error","SAML Identifier cannot be left empty");if(""===$.trim($("#SamlCertificate").val()))return showAlertDialog("error","SAML Certificate cannot be left empty");if(""===$.trim($("#ssoredirecturlsaml").val()))return showAlertDialog("error","SAML Redirect URL cannot be left empty");requestData={ssoType:_ssoType,SamlPartnerIdP:$("#SamlPartnerIdP").val(),SamlIdentifier:$("#SamlIdentifier").val(),SamlCertificate:$("#SamlCertificate").val(),SamlRedirectUrl:$("#ssoredirecturlsaml").val(),onlysso:ssoOptionWindow}}else if("office365"==_ssoType){if(""===$.trim($("#of365ssoclientKey").val()))return showAlertDialog("error","Office365 Client Key cannot be left empty");if(""===$.trim($("#of365ssoclientsecretKey").val()))return showAlertDialog("error","Office365 Secret Key cannot be left empty");if(""===$.trim($("#ssoredirecturlof365").val()))return showAlertDialog("error","Office365 Redirect URL cannot be left empty");requestData={ssoType:_ssoType,of365clientkey:$("#of365ssoclientKey").val(),of365secretkey:$("#of365ssoclientsecretKey").val(),of365redirecturl:$("#ssoredirecturlof365").val(),onlysso:ssoOptionWindow}}else if("okta"==_ssoType){if(""===$.trim($("#ssoclientKeyokta").val()))return showAlertDialog("error","OKAT Client Key cannot be left empty");if(""===$.trim($("#ssoclientsecretKeyokta").val()))return showAlertDialog("error","OKTA Secret Key cannot be left empty");if(""===$.trim($("#ssooktadomain").val()))return showAlertDialog("error","OKTA Domain cannot be left empty");if(""===$.trim($("#ssoredirecturlokta").val()))return showAlertDialog("error","OKTA Redirect URL cannot be left empty");requestData={ssoType:_ssoType,oktaclientkey:$("#ssoclientKeyokta").val(),oktasecretkey:$("#ssoclientsecretKeyokta").val(),oktadomain:$("#ssooktadomain").val(),oktaredirecturl:$("#ssoredirecturlokta").val(),onlysso:ssoOptionWindow}}else if("google"==_ssoType){if(""===$.trim($("#ssoclientKeygoogle").val()))return showAlertDialog("error","Google Client Key cannot be left empty");if(""===$.trim($("#ssoclientsecretKeygoogle").val()))return showAlertDialog("error","Google Secret Key cannot be left empty");if(""===$.trim($("#ssoredirecturlgoogle").val()))return showAlertDialog("error","Google Redirect URL cannot be left empty");requestData={ssoType:_ssoType,googleclientkey:$("#ssoclientKeygoogle").val(),googlesecretkey:$("#ssoclientsecretKeygoogle").val(),googleredirecturl:$("#ssoredirecturlgoogle").val(),onlysso:ssoOptionWindow}}else if("facebook"==_ssoType){if(""===$.trim($("#ssoclientKeyfb").val()))return showAlertDialog("error","Facebook Client Key cannot be left empty");if(""===$.trim($("#ssoclientsecretKeyfb").val()))return showAlertDialog("error","Facebook Secret Key cannot be left empty");if(""===$.trim($("#ssoredirecturlfb").val()))return showAlertDialog("error","Facebook Redirect URL cannot be left empty");requestData={ssoType:_ssoType,fbclientkey:$("#ssoclientKeyfb").val(),fbsecretkey:$("#ssoclientsecretKeyfb").val(),fbredirecturl:$("#ssoredirecturlfb").val(),onlysso:ssoOptionWindow}}else if("openid"==_ssoType){if(""===$.trim($("#ssoclientKeyOpenId").val()))return showAlertDialog("error","OpenID Client Key cannot be left empty");if(""===$.trim($("#ssoclientsecretKeyOpenId").val()))return showAlertDialog("error","OpenID Secret Key cannot be left empty");if(""===$.trim($("#ssoopeniddomain").val()))return showAlertDialog("error","OpenID Domain cannot be left empty");if(""===$.trim($("#ssoredirecturlopenid").val()))return showAlertDialog("error","OpenID Redirect URL cannot be left empty");requestData={ssoType:_ssoType,openidclientkey:$("#ssoclientKeyOpenId").val(),openidsecretkey:$("#ssoclientsecretKeyOpenId").val(),openiddomain:$("#ssoopeniddomain").val(),openidredirecturl:$("#ssoredirecturlopenid").val(),onlysso:ssoOptionWindow}}if("true"==ssoOptionWindow)if(""!=SSOlistcon){var cleanedSSOlistcon=SSOlistcon.trim();cleanedSSOlistcon=cleanedSSOlistcon.replace(/^"|"$/g,""),cleanedSSOlistcon=cleanedSSOlistcon.replace(/\\r\\n|\\n|\\r/g,""),cleanedSSOlistcon=cleanedSSOlistcon.replace(/\\"/g,'"');var _SSOlistcon=JSON.parse(cleanedSSOlistcon),projectData=_SSOlistcon[proj],existingOnlySSO=null;for(var ssoType in projectData)"true"===projectData[ssoType].onlysso&&(existingOnlySSO=ssoType);if(existingOnlySSO&&existingOnlySSO!==_ssoType)var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:"Only SSO login can be enabled for a single SSO. Do you want to continue?",buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){var e={};e[existingOnlySSO]=_objectSpread({},projectData[existingOnlySSO]),e[existingOnlySSO].onlysso="false",$.ajax({url:"AxpertAdmin.aspx/SaveUpdateSSOConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({requestJson:requestData,ssoType:_ssoType,ssoProj:proj,updatereqJson:e,updateSsoType:existingOnlySSO}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","SSO Connection is saved successfully"),SSOlistcon=e.d,window.location.href=window.location.href)},error:function(e){showAlertDialog("error",e)}})}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}});else $.ajax({url:"AxpertAdmin.aspx/SaveSSOConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({requestJson:requestData,ssoType:_ssoType,ssoProj:proj}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","SSO Connection is saved successfully"),SSOlistcon=e.d,window.location.href=window.location.href)},error:function(e){showAlertDialog("error",e)}})}else $.ajax({url:"AxpertAdmin.aspx/SaveSSOConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({requestJson:requestData,ssoType:_ssoType,ssoProj:proj}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","SSO Connection is saved successfully"),SSOlistcon=e.d,window.location.href=window.location.href)},error:function(e){showAlertDialog("error",e)}});else $.ajax({url:"AxpertAdmin.aspx/SaveSSOConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({requestJson:requestData,ssoType:_ssoType,ssoProj:proj}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","SSO Connection is saved successfully"),SSOlistcon=e.d,window.location.href=window.location.href)},error:function(e){showAlertDialog("error",e)}})}function existtingSSOInfo(e,t){if(""!=SSOlistcon){var n=SSOlistcon.trim();n=(n=(n=n.replace(/^"|"$/g,"")).replace(/\\r\\n|\\n|\\r/g,"")).replace(/\\"/g,'"');var o=JSON.parse(n);"windows"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssowindowsdomain").val(o[e][t].ssoWinDomain)):"saml"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#SamlPartnerIdP").val(o[e][t].SamlPartnerIdP),$("#SamlIdentifier").val(o[e][t].SamlIdentifier),$("#SamlCertificate").val(o[e][t].SamlCertificate),$("#ssoredirecturlsaml").val(o[e][t].SamlRedirectUrl)):"office365"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#of365ssoclientKey").val(o[e][t].of365clientkey),$("#of365ssoclientsecretKey").val(o[e][t].of365secretkey),$("#ssoredirecturlof365").val(o[e][t].of365redirecturl)):"okta"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssoclientKeyokta").val(o[e][t].oktaclientkey),$("#ssoclientsecretKeyokta").val(o[e][t].oktasecretkey),$("#ssooktadomain").val(o[e][t].oktadomain),$("#ssoredirecturlokta").val(o[e][t].oktaredirecturl)):"google"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssoclientKeygoogle").val(o[e][t].googleclientkey),$("#ssoclientsecretKeygoogle").val(o[e][t].googlesecretkey),$("#ssoredirecturlgoogle").val(o[e][t].googleredirecturl)):"google"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssoclientKeygoogle").val(o[e][t].googleclientkey),$("#ssoclientsecretKeygoogle").val(o[e][t].googlesecretkey),$("#ssoredirecturlgoogle").val(o[e][t].googleredirecturl)):"facebook"==t?($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssoclientKeyfb").val(o[e][t].fbclientkey),$("#ssoclientsecretKeyfb").val(o[e][t].fbsecretkey),$("#ssoredirecturlfb").val(o[e][t].fbredirecturl)):"openid"==t&&($("#ssoOptionWindow").prop("checked","true"==o[e][t].onlysso),$("#ssoclientKeyOpenId").val(o[e][t].openidclientkey),$("#ssoclientsecretKeyOpenId").val(o[e][t].openidsecretkey),$("#ssoopeniddomain").val(o[e][t].openiddomain),$("#ssoredirecturlopenid").val(o[e][t].openidredirecturl))}}function SaveLicDomain(){var e=$("#hdnLicDomainProj").val();return-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),""===$.trim(e)?showAlertDialog("error","Project cannot be left empty"):""===$.trim($("#txtLicensedDomain").val())?showAlertDialog("error","Licensed Domain URL cannot be left empty"):void $.ajax({url:"AxpertAdmin.aspx/LicDomainConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({domainName:$("#txtLicensedDomain").val(),proj:e}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(appSettingList=JSON.parse(e.d),showAlertDialog("success","Licensed Domain Connection is saved successfully"),document.getElementById("txtLicensedDomain").value="",$("#selLicDomain").val(null).trigger("change"))},error:function(e){showAlertDialog("error",e)}})}function DelLicDomain(){var e=$("#hdnLicDomainProj").val();-1!=e.indexOf("\\")&&(e=e.split("\\")[0]),$.ajax({url:"AxpertAdmin.aspx/DelLicDomainConnection",type:"POST",cache:!1,async:!0,data:JSON.stringify({proj:e}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&(showAlertDialog("success","Licensed Domain Connection is deleted successfully"),document.getElementById("txtLicensedDomain").value="",appSettingList=JSON.parse(e.d),$("#selLicDomain").val(null).trigger("change"))},error:function(e){showAlertDialog("error",e)}})}function CreateRedisConnectionStudio(){var e=$("#txtRedisNewConnStudio").val();return""==e?($("#txtRedisNewConnStudio").focus(),showAlertDialog("error","Connection name should not be left empty."),!1):new RegExp("^[a-zA-Z0-9]+$").test(e)?void 0:($("#txtRedisNewConnStudio").focus(),showAlertDialog("error","Invalid Name - Special characters not allowed."),!1)}function applyRedisconnStudio(){return""==$("#txtStudioUrl").val()?($("#txtStudioUrl").focus(),showAlertDialog("error","Studio URL should not be left empty."),!1):""==$("#txtrhotnameStudio").val()?($("#txtrhotnameStudio").focus(),showAlertDialog("error","Host name should not be left empty."),!1):""==$("#txtrportStudio").val()?($("#txtrportStudio").focus(),showAlertDialog("error","Port should not be left empty."),!1):""==$("#txtStudioScriptPath").val()?($("#txtStudioScriptPath").focus(),showAlertDialog("error","Studio Script path should not be left empty."),!1):""==$("#txtStudioURLPath").val()?($("#txtStudioURLPath").focus(),showAlertDialog("error","Studio Script URL should not be left empty."),!1):void TestRedisConnectionStudioWs()}function TestRedisConnectionStudioWs(){$.ajax({url:"AxpertAdmin.aspx/RedisTestConnectionStudio",type:"POST",cache:!1,async:!0,data:JSON.stringify({rHost:$("#txtrhotnameStudio").val(),rPort:$("#txtrportStudio").val(),rPwd:$("#txtrpwdStudio").val(),axsConn:$("#lstStudioRconnection").val(),studioUrl:$("#txtStudioUrl").val()}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d)if("true:yes"==e.d)showAlertDialog("success","Test Connection was Successful."),EnableRedisApplyConnectionStudio();else if("true:no"==e.d)showAlertDialog("success","Test Connection was Successful."),EnableRedisApplyConnectionStudio();else if(e.d.indexOf("false:")>-1){var t=e.d;showAlertDialog("error",t.split(":")[1]),$("#btnRedisApplyStudio").attr("disabled","true").addClass("btndisable")}else{""==$("#txtrpwd").val()?showAlertDialog("error","Test Connection failed. Please enter password and try again."):showAlertDialog("error","Test Connection failed."),$("#btnRedisApplyStudio").attr("disabled","true").addClass("btndisable")}else showAlertDialog("error","Test Connection failed."),$("#btnRedisApplyStudio").attr("disabled","true").addClass("btndisable")},error:function(e){showAlertDialog("error",e)}})}function EnableRedisApplyConnectionStudio(){$("#btnRedisApplyStudio").removeAttr("disabled").removeClass("btndisable")}$j(document).ready(function(){$("#lstconnection").select2(),$("#lstRconnection").select2(),$("#ddldbtype").select2(),$("#selLicDomain").select2(),$("#ddldbversion").select2(),$("#lstStudioRconnection").select2(),$("#btnaddcon").click(function(){$("#lstconnection").val("").trigger("change"),$("#ddldbtype").val("").trigger("change"),$("#ddldbversion").val("").trigger("change")}),"false"==IsLicExist?($("#dvlicmessage").show(),$("#btnRefresh").hide(),$("#btnActivate").show(),$("#btnTrial").show(),$(".licActOptions").show(),$("#dvdbConnection").addClass("disabledDiv")):($("#dvlicmessage").hide(),$(".licActOptions").hide(),$("#btnRefresh").show(),$("#btnActivate").hide(),$("#btnTrial").hide(),$("#dvdbConnection").removeClass("disabledDiv"));var e=$("#selLicDomain option:first").val();if(void 0!==e&&(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),$("#hdnLicDomainProj").val(e),appSettingList&&appSettingList.appsettings&&appSettingList.appsettings.hasOwnProperty(e)&&"undefined"!=typeof appSettingList.appsettings[e].licdomain)){var t=appSettingList.appsettings[e];document.getElementById("txtLicensedDomain").value=t.licdomain.domainname||"",$("#selLicDomain").val(e),$("#selLicDomain").trigger("change")}var n=$("#lstRconnection option:first").val();if(void 0!==n&&(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&appSettingList.appsettings.hasOwnProperty(n)&&"undefined"!=typeof appSettingList.appsettings[n].Redis)){var o=appSettingList.appsettings[n];document.getElementById("txtrhotname").value=o.Redis.host||"",document.getElementById("txtrport").value=o.Redis.port||"",document.getElementById("txtrpwd").value="",$("#lstRconnection").val(n),$("#lstRconnection").trigger("change")}var s=$("#lstStudioRconnection option:first").val();if(void 0!==s&&(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&appSettingList.appsettings.hasOwnProperty(s)&&"undefined"!=typeof appSettingList.appsettings[s].AxStudioRedis)){var a=appSettingList.appsettings[s];document.getElementById("txtStudioUrl").value=a.AxStudioRedis.studiourl||"",document.getElementById("txtrhotnameStudio").value=a.AxStudioRedis.host||"",document.getElementById("txtrportStudio").value=a.AxStudioRedis.port||"",document.getElementById("txtrpwdStudio").value="",$("#lstStudioRconnection").val(s),$("#lstStudioRconnection").trigger("change")}if($("#ddldbversion").val(c).prop("disabled",!0),applist=ReverseCheckSpecialChars(applist),""!=applist){var i=parseXml(applist);if(applstJson=JSON.parse(xml2json(i,"")),""!=selProj&&""!=applstJson){$("#lstconnection").val(selProj).focus();var l=applstJson.connections[selProj].db,r=applstJson.connections[selProj].dbcon,d=applstJson.connections[selProj].dbuser,c=null==applstJson.connections[selProj].version?"":applstJson.connections[selProj].version,p=applstJson.connections[selProj].driver;$("#lblconname").text(selProj),$("#ddldbtype").val(l).trigger("change"),"MS SQL"!=l.toString()&&$(".databasever").addClass("d-none"),""!=c?$("#ddldbversion").val(c).prop("disabled",!1):$("#ddldbversion").val(c).prop("disabled",!0),$("#txtccname").val(r),$("#txtusername").val(d),$("#ddldriver").val(p)}else if(""!=applstJson){var u=$("#lstconnection option:first").val();if(void 0!==u){l=applstJson.connections[u].db,r=applstJson.connections[u].dbcon,d=applstJson.connections[u].dbuser,c=null==applstJson.connections[u].version?"":applstJson.connections[u].version,p=applstJson.connections[u].driver;$("#lblconname").text(u),$("#ddldbtype").val(l).trigger("change"),""!=c?$("#ddldbversion").val(c).prop("disabled",!1):$("#ddldbversion").val(c).prop("disabled",!0),$("#txtccname").val(r),$("#txtusername").val(d),$("#ddldriver").val(p),$("#lstconnection").val(u),$("#lstconnection").trigger("change")}}}if(""!=applstJson){var g=$("#armproj option:first").val();if(void 0!==g){$("#armproj").val(g).focus(),$("#armproj").trigger("change");var v=g;if(-1!=v.indexOf("\\")&&(v=v.split("\\")[0]),$("#hdnprojarm").val(v),appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&appSettingList.appsettings.hasOwnProperty(y)&&"undefined"!=typeof appSettingList.appsettings[y].ARM){var f=appSettingList.appsettings[y];document.getElementById("txtarmkey").value=f.ARM.ARM_PrivateKey||"",document.getElementById("txtarmurl").value=f.ARM.ARM_URL||"",document.getElementById("txtscripturl").value=f.ARM.ARM_Scripts_URL||"",document.getElementById("txtpeg").value=f.ARM.PEG||"",$("#txtpeg").trigger("change")}}}if(""!=applstJson){var m=$("#fileproj option:first").val();if(void 0!==m){$("#fileproj").val(m).focus(),$("#fileproj").trigger("change");var y=m;if(-1!=y.indexOf("\\")&&(y=y.split("\\")[0]),$("#hdnfileproj").val(y),appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&appSettingList.appsettings.hasOwnProperty(y)&&"undefined"!=typeof appSettingList.appsettings[y].FileConfig){var S=appSettingList.appsettings[y];document.getElementById("txtfileupload").value=S.FileConfig.FileUploadPath||"",document.getElementById("txtfiledownload").value=S.FileConfig.FileDownloadPath||"",document.getElementById("txtfileMapUsername").value=S.FileConfig.FileServerMapUsername||"",document.getElementById("tstfileMapPwd").value=S.FileConfig.FileServerMapPwd||""}}}if($(document).on("click",".upload-button",function(e){try{if(""==$("#axSelectProj").val())return showAlertDialog("warning","Please Select UI Configuration Project"),$("#axSelectProj").focus(),e.preventDefault(),e.stopPropagation(),!1;handlerType="upload",$(e.currentTarget).nextAll(".file-upload").trigger("click")}catch(t){}}),$(document).on("click",".delete-button",function(e){try{if(""==$("#axSelectProj").val())return showAlertDialog("warning","Please Select UI Configuration Project"),$("#axSelectProj").focus(),e.preventDefault(),e.stopPropagation(),!1;handlerType="delete",$(e.currentTarget).parent().find(".file-upload").trigger("change")}catch(t){}}),$(document).on("change",".file-upload",function(e){uploadLogo(e)}),$("#ddlIsNewConnection").val("new"),$("#txtNewConName").val(""),$("#ddlIsRedisNewConnection").val("new"),$("#txtRedisNewConn").val(""),$("#demo").on("hide.bs.collapse",function(){$(".licInfoAccordion").html('<span class="material-icons">expand_more</span>')}),$("#demo").on("show.bs.collapse",function(){$(".licInfoAccordion").html('<span class="material-icons">expand_less</span>')}),"false"==IsLicExist&&($("#demo").addClass("in"),$(".licInfoAccordion").html('<span class="material-icons">expand_less</span>')),$("#filMyFile").bind({change:function(){var e=$("#filMyFile").val();/^\s*$/.test(e)?($(".file-upload").removeClass("active"),$("#lblfuerror").text("No file chosen...")):$(".file-upload").addClass("active");var t=e.split(".").pop().toLowerCase();-1==$.inArray(t,["lic"])?($("#btnFileUpload").prop("disabled",!0),$("#lblfuerror").text("Invalid file format.")):($("#btnFileUpload").prop("disabled",!1),$("#lblfuerror").text(""));var n=$("#filMyFile")[0].files;n.length>0&&$("#lblnofilename").text(n[0].name)}}),"true"==authPopup&&$("#myModalAuth").show(),initUiPanel(),""!=selProj)try{$("#lstconnection").val(selProj),$("#lstconnection").trigger("change")}catch(h){}"undefined"!=typeof strudioScriptUrlMesg&&""!=strudioScriptUrlMesg&&(SuccStudioRedisConnection("info",strudioScriptUrlMesg),strudioScriptUrlMesg="")}),$j(document).on("click","#lstconnection option",function(e){var t=$(this).val();if(""!=applstJson){var n=applstJson.connections[t].db,o=applstJson.connections[t].dbcon,s=applstJson.connections[t].dbuser,a=null==applstJson.connections[t].version?"":applstJson.connections[t].version,i=applstJson.connections[t].driver;$("#lblconname").text(t),$("#ddldbtype").val(n),""!=n&&$("#ddldbtype").val(n).trigger("change"),""!=a?($("#ddldbversion").val(a).prop("disabled",!1),$("#ddldbversion").val(a).trigger("change")):$("#ddldbversion").val(a).prop("disabled",!0),$("#txtccname").val(o),$("#txtusername").val(s),$("#ddldriver").val(i)}}),$j(document).on("change","#lstconnection",function(e){var t=$(this).val();if(""!=applstJson&&null!=t){var n=applstJson.connections[t].db,o=applstJson.connections[t].dbcon,s=applstJson.connections[t].dbuser,a=null==applstJson.connections[t].version?"":applstJson.connections[t].version,i=applstJson.connections[t].driver;$("#lblconname").text(t),$("#ddldbtype").val(n),$("#ddldbtype").trigger("change"),""!=n&&$("#ddldbtype").val(n).trigger("change"),"ms sql"!=n.toString().toLowerCase()?($("#ddldbversion").val("").trigger("change"),$(".databasever").addClass("d-none")):$(".databasever").removeClass("d-none"),""!=a?($("#ddldbversion").val(a).prop("disabled",!1),$("#ddldbversion").val(a).trigger("change")):$("#ddldbversion").val(a).prop("disabled",!0),$("#txtccname").val(o),$("#txtusername").val(s),$("#ddldriver").val(i),$("#selLicDomain").val(t).trigger("change"),$("#lstRconnection").val(t).trigger("change"),$("#lstStudioRconnection").val(t).trigger("change"),$("#armproj").val(t).trigger("change"),$("#fileproj").val(t).trigger("change")}}),$j(document).on("change","#fileproj",function(e){var t=$(this).val();if(""!=applstJson){var n=t;-1!=n.indexOf("\\")&&(n=n.split("\\")[0]),$("#hdnfileproj").val(n);try{if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings)if(isFile="true",appSettingList.appsettings.hasOwnProperty(n)&&"undefined"!=typeof appSettingList.appsettings[n].FileConfig){var o=appSettingList.appsettings[n];document.getElementById("txtfileupload").value=o.FileConfig.FileUploadPath||"",document.getElementById("txtfiledownload").value=o.FileConfig.FileDownloadPath||"",document.getElementById("txtfileMapUsername").value=o.FileConfig.FileServerMapUsername||"",document.getElementById("tstfileMapPwd").value=o.FileConfig.FileServerMapPwd||""}else document.getElementById("txtfileupload").value="",document.getElementById("txtfiledownload").value="",document.getElementById("txtfileMapUsername").value="",document.getElementById("tstfileMapPwd").value=""}catch(s){}}}),$j(document).on("change","#armproj",function(e){var t=$(this).val();if(""!=applstJson){var n=t;-1!=n.indexOf("\\")&&(n=n.split("\\")[0]),$("#hdnprojarm").val(n);try{if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings)if(isArm="true",appSettingList.appsettings.hasOwnProperty(n)&&"undefined"!=typeof appSettingList.appsettings[n].ARM){var o=appSettingList.appsettings[n];document.getElementById("txtarmkey").value=o.ARM.ARM_PrivateKey||"",document.getElementById("txtarmurl").value=o.ARM.ARM_URL||"",document.getElementById("txtscripturl").value=o.ARM.ARM_Scripts_URL||"",document.getElementById("txtpeg").value=o.ARM.PEG||"",$("#txtpeg").trigger("change")}else document.getElementById("txtarmkey").value="",document.getElementById("txtarmurl").value="",document.getElementById("txtscripturl").value="",document.getElementById("txtpeg").value="",$("#txtpeg").trigger("change")}catch(s){}}}),$j(document).on("click","#btnApply",function(e){null==$("#lstconnection").val()||""==$("#lstconnection").val()?($("#ddlIsNewConnection").val("new"),$("#myModal").modal("show")):($("#ddlIsNewConnection").val("old"),$("#txtNewConName").val($("#lstconnection").val()),$("#btnok").click())}),$j(document).on("click","#btnChangePassword",function(e){$("#myModaldbpassword").modal("show")}),$j(document).on("click","#btnCancel",function(e){window.document.location.href="signin.aspx"}),$j(document).on("click","#btnaddcon",function(e){$("#ddldbtype").prop("selectedIndex",0),$("#ddldbversion").prop("selectedIndex",0).prop("disabled",!0),$(".databasever").removeClass("d-none"),$("#ddldriver").prop("selectedIndex",0),$("#lblconname").text(""),$("#txtccname").val(""),$("#txtusername").val(""),$("#lstconnection").val(""),$("#txtPassword").val(""),$("#txtNewPassword").val(""),$("#txtConfirmPassword").val("")}),$j(document).on("click","#btncdelete",function(e){var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[512]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$j("#btndelete").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}),$j(document).on("change","#ddldbtype",function(e){"MS SQL"==$(this).val()?($("#ddldbversion").prop("disabled",!1),$("#ddldriver").val("ado")):($("#ddldbversion").val("").prop("disabled",!0),$("#ddldriver").val("dbx"))}),$j(document).on("click","#btnlicactivation",function(e){window.document.location.href="licactivation.aspx"}),$j(document).on("click","#btnnewcancel,#myModalclose",function(e){$("#myModal").hide(),$("#btnApply").attr("disabled",!0).addClass("btndisable"),$("#btnChangePassword").attr("disabled",!0).addClass("btndisable")}),$j(document).on("click","#btndbpwdcancel,#myModaldbpasswordclose",function(e){$("#myModaldbpassword").hide(),$("#btnApply").attr("disabled",!0).addClass("btndisable"),$("#btnChangePassword").attr("disabled",!0).addClass("btndisable")}),$j(document).on("click","#btnUpload",function(e){$("#myModalLicUpload").show()}),$j(document).on("change","#rbllictype input",function(e){switch($(this).val()){case"offline":$("#dvOffline").show(),$("#dvOnline").hide();break;default:$("#dvOffline").hide(),$("#dvOnline").show()}}),$j(document).on("click","#btnAuthCancel,#myModalAuthClose",function(e){window.document.location.href="signin.aspx"}),$j(document).on("click","#btnRedisApply",function(e){null==$("#lstRconnection").val()||""==$("#lstRconnection").val()?($("#ddlIsRedisNewConnection").val("new"),$("#myModalRedis").modal("show")):($("#ddlIsRedisNewConnection").val("old"),$("#txtRedisNewConn").val($("#lstRconnection").val()),$("#btnRedisOk").click())}),$j(document).on("click","#lstRconnection option",function(e){var t=$(this).val();if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&null!=t)if(appSettingList.appsettings.hasOwnProperty(t)&&"undefined"!=typeof appSettingList.appsettings[t].Redis){var n=appSettingList.appsettings[t];document.getElementById("txtrhotname").value=n.Redis.host||"",document.getElementById("txtrport").value=n.Redis.port||"",document.getElementById("txtrpwd").value=""}else $("#txtrhotname").val(""),$("#txtrport").val(""),$("#txtrpwd").val("");else $("#txtrhotname").val(""),$("#txtrport").val(""),$("#txtrpwd").val("")}),$j(document).on("change","#lstRconnection",function(e){var t=$(this).val();if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&null!=t)if(appSettingList.appsettings.hasOwnProperty(t)&&"undefined"!=typeof appSettingList.appsettings[t].Redis){var n=appSettingList.appsettings[t];document.getElementById("txtrhotname").value=n.Redis.host||"",document.getElementById("txtrport").value=n.Redis.port||"",document.getElementById("txtrpwd").value=""}else $("#txtrhotname").val(""),$("#txtrport").val(""),$("#txtrpwd").val("");else $("#txtrhotname").val(""),$("#txtrport").val(""),$("#txtrpwd").val("")}),$j(document).on("click","#btnRedisAdd",function(e){$("#txtrhotname").val(""),$("#txtrport").val(""),$("#txtrpwd").val(""),$("#lstRconnection").val("").trigger("change")}),$j(document).on("click","#btnRcdelete",function(e){var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[522]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$j("#btnRedisdelete").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}),$j(document).on("click","#btnrnewcancel,#myModalRedisclose",function(e){$("#myModalRedis").modal("hide")}),$j(document).on("change","#ssoProj",function(e){var t=$(this).val();if(""!=t){var n=t;-1!=n.indexOf("\\")&&(n=n.split("\\")[0]),$("#hdnssoProj").val(n);var o=$("#ssoType").val();if($("#hdnssoType").val(o),void 0!==o&&""!=o)"windows"==o&&($("#dvssoWindows").removeClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"));else try{if(""!=SSOlistcon)JSON.parse(SSOlistcon).hasOwnProperty(n)}catch(s){}}}),$j(document).on("change","#ssoType",function(e){var t=$(this).val(),n=$("#ssoProj").val();""!=t&&""!=n&&(-1!=n.indexOf("\\")&&(n=n.split("\\")[0]),$("#hdnssoProj").val(n),$("#hdnssoType").val(t),$("#dvssoOptionWindow").removeClass("d-none"),"windows"==t?($("#dvssoWindows").removeClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"saml"==t?($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").removeClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"office365"==t?($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").removeClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"okta"==t?($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").removeClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"google"==t?($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").removeClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"facebook"==t?($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").removeClass("d-none"),$("#dvssoOpenId").addClass("d-none"),existtingSSOInfo(n,t)):"openid"==t&&($("#dvssoWindows").addClass("d-none"),$("#dvssoSAML").addClass("d-none"),$("#dvssoOff365").addClass("d-none"),$("#dvssoOkta").addClass("d-none"),$("#dvssoGoogle").addClass("d-none"),$("#dvssoFb").addClass("d-none"),$("#dvssoOpenId").removeClass("d-none"),existtingSSOInfo(n,t)))}),$j(document).on("click","#btnSSOdeleteType",function(e){if(null!=$("#ssoProj").val()&&""!=$("#ssoProj").val()&&null!=$("#ssoType").val()&&""!=$("#ssoType").val())var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[538]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$.ajax({url:"AxpertAdmin.aspx/SSoTypeDelete",type:"POST",cache:!1,async:!0,data:JSON.stringify({ssoProj:$("#ssoProj").val(),ssoType:$("#ssoType").val()}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&"deleted"==e.d?(showAlertDialog("success","SSO Connection deleted successfully"),window.location.href=window.location.href):showAlertDialog("error","Error while deleting SSO Connection, please try later.")},error:function(e){showAlertDialog("error",e)}})}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}});else showAlertDialog("error","Please Select SSO Connection Name and SSO Type.")}),$j(document).on("click","#btnSSOdeleteCon",function(e){if(null!=$("#ssoProj").val()&&""!=$("#ssoProj").val())var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[537]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$.ajax({url:"AxpertAdmin.aspx/SSoConDelete",type:"POST",cache:!1,async:!0,data:JSON.stringify({ssoProj:$("#ssoProj").val()}),dataType:"json",contentType:"application/json",success:function(e){""!=e.d&&"deleted"==e.d?(showAlertDialog("success","SSO Connection deleted successfully"),window.location.href=window.location.href):showAlertDialog("error","Error while deleting SSO Connection, please try later.")},error:function(e){showAlertDialog("error",e)}})}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}});else showAlertDialog("error","Please Select SSO Connection Name.")}),$j(document).on("change","#selLicDomain",function(e){var t=$(this).val();if(""!=applstJson){var n=t;-1!=n.indexOf("\\")&&(n=n.split("\\")[0]),$("#hdnLicDomainProj").val(n);try{if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings)if(appSettingList.appsettings.hasOwnProperty(n)&&"undefined"!=typeof appSettingList.appsettings[n].licdomain){var o=appSettingList.appsettings[n];document.getElementById("txtLicensedDomain").value=o.licdomain.domainname||""}else document.getElementById("txtLicensedDomain").value=""}catch(s){}}}),$j(document).on("click","#btnRedisAddStudio",function(e){$("#txtStudioUrl").val(""),$("#txtStudioScriptPath").val(""),$("#txtStudioURLPath").val(""),$("#txtrhotnameStudio").val(""),$("#txtrportStudio").val(""),$("#txtrpwdStudio").val(""),$("#lstStudioRconnection").val("").trigger("change")}),$j(document).on("click","#btnRcdeleteStudio",function(e){var conDelete=$.confirm({closeIcon:!1,title:"Confirm",escapeKey:"buttonB",theme:"modern",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[522]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$j("#btnRedisdeleteStudio").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}),$j(document).on("click","#btnRedisApplyStudio",function(e){null==$("#lstStudioRconnection").val()||""==$("#lstStudioRconnection").val()?($("#ddlIsRedisNewConnectionStudio").val("new"),$("#myModalRedisStudio").modal("show")):($("#ddlIsRedisNewConnectionStudio").val("old"),$("#txtRedisNewConnStudio").val($("#lstStudioRconnection").val()),$("#btnRedisOkStudio").click())}),$j(document).on("click","#lstStudioRconnection option",function(e){var t=$(this).val();if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&null!=t)if(appSettingList.appsettings.hasOwnProperty(t)&&"undefined"!=typeof appSettingList.appsettings[t].AxStudioRedis){var n=appSettingList.appsettings[t];document.getElementById("txtStudioUrl").value=n.AxStudioRedis.studiourl||"",document.getElementById("txtrhotnameStudio").value=n.AxStudioRedis.host||"",document.getElementById("txtrportStudio").value=n.AxStudioRedis.port||"",document.getElementById("txtrpwdStudio").value="",document.getElementById("txtStudioScriptPath").value=n.AxStudioRedis.studioScriptPath||"",document.getElementById("txtStudioURLPath").value=n.AxStudioRedis.studioURLPath||""}else $("#txtStudioUrl").val(""),$("#txtrhotnameStudio").val(""),$("#txtrportStudio").val(""),$("#txtrpwdStudio").val(""),$("#txtStudioScriptPath").val(""),$("#txtStudioURLPath").val("");else $("#txtStudioUrl").val(""),$("#txtrhotnameStudio").val(""),$("#txtrportStudio").val(""),$("#txtrpwdStudio").val(""),$("#txtStudioScriptPath").val(""),$("#txtStudioURLPath").val("")}),$j(document).on("change","#lstStudioRconnection",function(e){var t=$(this).val();if(appSettingList&&"string"==typeof appSettingList&&(appSettingList=JSON.parse(appSettingList)),appSettingList&&appSettingList.appsettings&&null!=t)if(appSettingList.appsettings.hasOwnProperty(t)&&"undefined"!=typeof appSettingList.appsettings[t].AxStudioRedis){var n=appSettingList.appsettings[t];document.getElementById("txtStudioUrl").value=n.AxStudioRedis.studiourl||"",document.getElementById("txtrhotnameStudio").value=n.AxStudioRedis.host||"",document.getElementById("txtrportStudio").value=n.AxStudioRedis.port||"",document.getElementById("txtrpwdStudio").value="",document.getElementById("txtStudioScriptPath").value=n.AxStudioRedis.studioScriptPath||"",document.getElementById("txtStudioURLPath").value=n.AxStudioRedis.studioURLPath||""}else $("#txtStudioUrl").val(""),$("#txtrhotnameStudio").val(""),$("#txtrportStudio").val(""),$("#txtrpwdStudio").val(""),$("#txtStudioScriptPath").val(""),$("#txtStudioURLPath").val("");else $("#txtStudioUrl").val(""),$("#txtrhotnameStudio").val(""),$("#txtrportStudio").val(""),$("#txtrpwdStudio").val(""),$("#txtStudioScriptPath").val(""),$("#txtStudioURLPath").val("")});